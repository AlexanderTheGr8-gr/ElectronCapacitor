async function renderPage(e){const t=await fetch(`pages/${e}.html`).then((e=>e.text())),n=document.createElement("template");n.innerHTML=t.trim();const r=n.content.children,a={};Array.from(r).forEach((e=>{const t=e.dataset.view;t&&(a[t]=a[t]||[]).push(e)})),Object.entries(a).forEach((([e,t])=>{const n=$(e),r=n.length,a=t.length;if(1===a&&1===r)n.eq(0).html(t[0].innerHTML);else if(1===a&&r>1)n.each(((e,n)=>$(n).html(t[0].innerHTML)));else if(a>1&&r>1&&a===r)for(let e=0;e<a;e++)n.eq(e).html(t[e].innerHTML);else if(a>1&&r>1&&a!==r){const c=n.eq(0).parent()[0];n.toArray().every((e=>e.parentNode===c))?(n.remove(),t.forEach((e=>c.appendChild(e)))):alert(`Mismatch for "${e}": ${a} fragments vs ${r} targets with different parents. Skipping.`)}else a>1&&1===r&&alert(`Multiple fragments (${a}) for "${e}" but only 1 target. Aborting that replacement.`)})),n.content.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");e.src?(t.src=e.src,t.type=e.type||"module",t.defer=!0):t.textContent=e.textContent,document.body.appendChild(t)}))}$(document).on("click","a[data-link]",(function(e){e.preventDefault();const t=$(this).attr("href");page(t)})),page("/",(()=>renderPage("main-menu"))),page("/main-menu",(()=>renderPage("main-menu"))),page("/marks",(()=>renderPage("marks"))),page("/marks-practise",(()=>renderPage("marks-practise"))),page(),$((()=>{renderPage("main-menu")}));